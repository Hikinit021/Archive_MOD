KSP_annex_countries = {
	KSP_annex_SRT = {
		cost = 25
		available = {
			SRT = {
				is_puppet_of = KSP
			}
		}
		days_remove = 180

		modifier = {
			political_power_cost = 0.10
			stability_weekly = -0.005
		}

		remove_effect = {
			annex_country = {
				target = SRT
				transfer_troops = yes
			}
		}
		
		fire_only_once = yes
	}
}
KSP_fight_with_wakamo = {
	KSP_wakamo_sabotage_mission = {
		activation = {
			has_country_flag = KSP_wakamo_sabotage_activated
			NOT = {
				34 = {
					has_state_flag = KSP_no_wakamo_here
				}
				937 = {
					has_state_flag = KSP_no_wakamo_here
				}
				948 = {
					has_state_flag = KSP_no_wakamo_here
				}
				938 = {
					has_state_flag = KSP_no_wakamo_here
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = KSP_wakamo_sabotage_activated
			}
		}
		is_good = no
		days_mission_timeout = KSP_wakamo_next_sabotage
		priority = 10
		timeout_effect = {
			random_owned_controlled_state = {
				limit = { 
					NOT = {
						has_state_flag = KSP_no_wakamo_here
					}
				}
				random_list = {
					10 = {
						damage_building = {
							type = infrastructure
							damage = 1
						}
					}
					10 = {
						damage_building = {
							type = industrial_complex
							damage = 1
						}
					}
					10 = {
						damage_building = {
							type = arms_factory
							damage = 1
						}
					}
				}
			}
			hidden_effect = {
				activate_mission = KSP_wakamo_sabotage_mission
				add_to_variable = { KSP_wakamo_sabotage_mission = 1 }
			}
		}
	}
	KSP_wakamo_sabotage_increase_mission = {
		activation = {
			has_country_flag = KSP_wakamo_sabotage_activated
			OR = {
				has_idea = KSP_wakamo_sabotage_1
				has_idea = KSP_wakamo_sabotage_2
				has_idea = KSP_wakamo_sabotage_3
			}
		}
		available = {
			OR = {
				NOT = {
					has_country_flag = KSP_wakamo_sabotage_activated
				}
				has_idea = KSP_wakamo_sabotage
			}
		}
		is_good = no
		days_mission_timeout = 120
		priority = 9
		timeout_effect = {
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_1 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_1
					add_idea = KSP_wakamo_sabotage
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_2 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_2
					add_idea = KSP_wakamo_sabotage_1
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_3 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_3
					add_idea = KSP_wakamo_sabotage_2
				}
			}
			hidden_effect = {
				activate_mission = KSP_wakamo_sabotage_increase_mission
				if = {
					limit = {
						NOT = {
							check_variable = { KSP_wakamo_next_sabotage = 7 }
						}
					}
					add_to_variable = { KSP_wakamo_next_sabotage = -7 }
				}
			}
		}
	}
	KSP_suppressing_plan_sustain_de = {
		icon = oppression
		visible = {
			OR = {
				has_completed_focus = KSP_suppressing_plan_sustain
				is_debug = yes
			}
		}
		available = {
			OR = {
				has_idea = KSP_wakamo_sabotage
				has_idea = KSP_wakamo_sabotage_1
				has_idea = KSP_wakamo_sabotage_2
			}
		}
		custom_cost_trigger = {
			command_power > 24
		}
		custom_cost_text = KSP_suppress_wakamo_all_cost
		days_remove = 90

		modifier = {
			political_power_cost = 0.50
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}

		remove_effect = {
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_2 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_2
					add_idea = KSP_wakamo_sabotage_3
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_1 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_1
					add_idea = KSP_wakamo_sabotage_2
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage
					add_idea = KSP_wakamo_sabotage_1
				}
			}
			custom_effect_tooltip = KSP_suppressing_plan_sustain_de_ns_tt
			add_to_variable = { KSP_wakamo_next_sabotage = 7 }
		}

		fire_only_once = yes
	}
	KSP_skeban_suppress_de = {
		icon = oppression
		visible = {
			OR = {
				has_completed_focus = KSP_skeban_suppress
				is_debug = yes
			}
		}
		available = {
			OR = {
				has_idea = KSP_wakamo_sabotage
				has_idea = KSP_wakamo_sabotage_1
				has_idea = KSP_wakamo_sabotage_2
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 199
			}
			command_power > 9
		}
		custom_cost_text = KSP_suppress_wakamo_all_1_cost
		days_remove = 90

		modifier = {
			political_power_cost = 0.50
		}

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = -200
  				  	producer = KSP
				}
				add_command_power = -10
			}
		}

		remove_effect = {
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_2 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_2
					add_idea = KSP_wakamo_sabotage_3
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage_1 }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage_1
					add_idea = KSP_wakamo_sabotage_2
				}
			}
			if = {
				limit = { has_idea = KSP_wakamo_sabotage }
				swap_ideas = {
					remove_idea = KSP_wakamo_sabotage
					add_idea = KSP_wakamo_sabotage_1
				}
			}
			custom_effect_tooltip = KSP_suppressing_plan_sustain_de_ns_tt
			add_to_variable = { KSP_wakamo_next_sabotage = 7 }
		}

		fire_only_once = yes
	}
	KSP_suppress_wakamo_in_34 = {
		icon = hol_draw_up_staff_plans
		visible = {
			OR = {
				has_completed_focus = KSP_country_plan_wakamo
				is_debug = yes
			}
		}
		available = {
			34 = {
				NOT = {
					has_state_flag = KSP_no_wakamo_here
				}
			}
			NOT = {
				has_country_flag = KSP_doing_decisions_wakamo
			}
		}
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				infantry_equipment > 199
			}

		}
		custom_cost_text = KSP_suppress_wakamo_in_n_cost
		days_remove = 90

		highlight_states = {
			highlight_state_targets = {
				state = 34
			}
		}

		on_map_mode = map_only

		modifier = {
			political_power_cost = 0.25
		}

		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = -200
  				  	producer = KSP
				}
			}
			set_country_flag = KSP_doing_decisions_wakamo
			34 = {
				set_state_flag = KSP_no_wakamo_here
				add_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_ns_tt
		}

		remove_effect = {
			clr_country_flag = KSP_doing_decisions_wakamo
			34 = {
				clr_state_flag = KSP_no_wakamo_here
				remove_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_over_ns_tt
		}

		days_re_enable = 90
	}
	KSP_suppress_wakamo_in_937 = {
		icon = hol_draw_up_staff_plans
		visible = {
			OR = {
				has_completed_focus = KSP_country_plan_wakamo
				is_debug = yes
			}
		}
		available = {
			937 = {
				NOT = {
					has_state_flag = KSP_no_wakamo_here
				}
			}
			NOT = {
				has_country_flag = KSP_doing_decisions_wakamo
			}
		}
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				infantry_equipment > 199
			}

		}
		custom_cost_text = KSP_suppress_wakamo_in_n_cost
		days_remove = 90

		highlight_states = {
			highlight_state_targets = {
				state = 937
			}
		}

		on_map_mode = map_only

		modifier = {
			political_power_cost = 0.25
		}

		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = -200
  				  	producer = KSP
				}
			}
			set_country_flag = KSP_doing_decisions_wakamo
			937 = {
				set_state_flag = KSP_no_wakamo_here
				add_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_ns_tt
		}

		remove_effect = {
			clr_country_flag = KSP_doing_decisions_wakamo
			937 = {
				clr_state_flag = KSP_no_wakamo_here
				remove_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_over_ns_tt
		}

		days_re_enable = 90
	}
	KSP_suppress_wakamo_in_948 = {
		icon = hol_draw_up_staff_plans
		visible = {
			OR = {
				has_completed_focus = KSP_country_plan_wakamo
				is_debug = yes
			}
		}
		available = {
			948 = {
				NOT = {
					has_state_flag = KSP_no_wakamo_here
				}
			}
			NOT = {
				has_country_flag = KSP_doing_decisions_wakamo
			}
		}
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				infantry_equipment > 199
			}

		}
		custom_cost_text = KSP_suppress_wakamo_in_n_cost
		days_remove = 90

		highlight_states = {
			highlight_state_targets = {
				state = 948
			}
		}

		on_map_mode = map_only

		modifier = {
			political_power_cost = 0.25
		}

		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = -200
  				  	producer = KSP
				}
			}
			set_country_flag = KSP_doing_decisions_wakamo
			948 = {
				set_state_flag = KSP_no_wakamo_here
				add_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_ns_tt
		}

		remove_effect = {
			clr_country_flag = KSP_doing_decisions_wakamo
			948 = {
				clr_state_flag = KSP_no_wakamo_here
				remove_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_over_ns_tt
		}

		days_re_enable = 90
	}
	KSP_suppress_wakamo_in_938 = {
		icon = hol_draw_up_staff_plans
		cost = 50
		visible = {
			OR = {
				has_completed_focus = KSP_country_plan_wakamo
				is_debug = yes
			}
		}
		available = {
			938 = {
				NOT = {
					has_state_flag = KSP_no_wakamo_here
				}
			}
			NOT = {
				has_country_flag = KSP_doing_decisions_wakamo
			}
		}
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				infantry_equipment > 199
			}

		}
		custom_cost_text = KSP_suppress_wakamo_in_n_cost
		days_remove = 90

		highlight_states = {
			highlight_state_targets = {
				state = 938
			}
		}

		on_map_mode = map_only

		modifier = {
			political_power_cost = 0.25
		}

		complete_effect = {
			hidden_effect = {
				add_political_power = -25
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = -200
  				  	producer = KSP
				}
			}
			set_country_flag = KSP_doing_decisions_wakamo
			938 = {
				set_state_flag = KSP_no_wakamo_here
				add_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_ns_tt
		}

		remove_effect = {
			clr_country_flag = KSP_doing_decisions_wakamo
			938 = {
				clr_state_flag = KSP_no_wakamo_here
				remove_dynamic_modifier = { modifier = KSP_wakamo_sabotage_state }
			}
			custom_effect_tooltip = KSP_wakamo_suppressed_over_ns_tt
		}

		days_re_enable = 90
	}
	KSP_suppress_wakamo_all = {
		icon = generic_prepare_civil_war
		visible = {
			OR = {
				has_completed_focus = KSP_use_everything
				is_debug = yes
			}
		}
		available = {
			OR = {
				has_idea = KSP_wakamo_sabotage
				has_idea = KSP_wakamo_sabotage_1
				has_idea = KSP_wakamo_sabotage_2
			}
		}
		custom_cost_trigger = {
			command_power > 24
		}
		custom_cost_text = KSP_suppress_wakamo_all_cost
		days_remove = 60

		modifier = {
			political_power_cost = 0.50
		}
		

		ai_will_do = {
			base = 40
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = KSP_wakamo_sabotage
						is_ai = yes
					}
				}
				random_list = {
					10 = {
						country_event = { id = KSP_event.34 }
					}
					10 = {
						country_event = { id = KSP_event.33 }
					}
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = KSP_wakamo_sabotage
						is_ai = yes
					}
				}
				country_event = { id = KSP_event.34 }
			}
		}

		days_re_enable = 20
	}
	KSP_wakamo_showdown = {
		icon = generic_ignite_civil_war
		available = {
			has_idea = KSP_wakamo_sabotage_3
			NOT = {
				has_idea = KSP_valkyrie_chaos
			}
		}
		days_remove = 90
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
		}
		custom_cost_text = KSP_wakamo_showdown_cost
		modifier = {
			political_power_cost = 0.50
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			hidden_effect = {
				add_political_power = -50
				add_command_power = -50
			}
		}

		remove_effect = {
			country_event = { id = KSP_event.100 }
		}

		fire_only_once = yes
	}
	KSP_junjang_gyeohun = {
		icon = generic_army_support
		cost = 100
		available = {
			has_idea = KSP_weak_army
			NOT = {
				has_country_flag = KSP_wakamo_sabotage_activated
			}
		}
		days_remove = 60

		modifier = {
			political_power_cost = 0.50
		}

		ai_will_do = {
			factor = 40
		}

		remove_effect = {
			remove_ideas = KSP_weak_army
		}

		fire_only_once = yes
	}
}
KSP_war_plans = {
	KSP_war_for_the_survival_of_our_school_de = {
		icon = GFX_decision_generic_intelligence_operation
		cost = 0
		available = {
			has_defensive_war = yes
			has_war_with_major = yes
		}
		days_remove = 0

		complete_effect = {
			add_ideas = KSP_war_for_the_survival_of_our_school
		}
	}
}